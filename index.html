import React, { useState } from 'react';

export default function CardList() {
  // 카테고리 초기 상태 (이름과 열림 여부)
  const [categories, setCategories] = useState([
    { id: 1, name: '카테고리 1', isOpen: true },
    { id: 2, name: '카테고리 2', isOpen: false },
  ]);

  // 각 카테고리 별 카드 데이터 예시
  const cards = {
    1: ['카드 A', '카드 B'],
    2: ['카드 C', '카드 D'],
  };

  // 카테고리 열기/닫기 토글 함수
  const toggleCategory = (id) => {
    setCategories(categories.map(cat => 
      cat.id === id ? {...cat, isOpen: !cat.isOpen} : cat
    ));
  };

  // 카테고리 이름 수정 함수
  const changeCategoryName = (id, newName) => {
    setCategories(categories.map(cat => 
      cat.id === id ? {...cat, name: newName} : cat
    ));
  };

  return (
    <div>
      {categories.map(cat => (
        <div key={cat.id} style={{ marginBottom: '1rem' }}>
          <div style={{ display: 'flex', alignItems: 'center' }}>
            {/* 접기/펼치기 버튼 */}
            <button onClick={() => toggleCategory(cat.id)}>
              {cat.isOpen ? '▼' : '▶'}
            </button>

            {/* 카테고리 이름 인풋 (수정 가능) */}
            <input 
              type="text" 
              value={cat.name} 
              onChange={(e) => changeCategoryName(cat.id, e.target.value)} 
              style={{ marginLeft: '0.5rem', fontSize: '1rem' }}
            />
          </div>

          {/* 카테고리 열렸을 때 카드 목록 보여주기 */}
          {cat.isOpen && (
            <ul>
              {cards[cat.id].map((card, idx) => (
                <li key={idx}>{card}</li>
              ))}
            </ul>
          )}
        </div>
      ))}
    </div>
  );
}
